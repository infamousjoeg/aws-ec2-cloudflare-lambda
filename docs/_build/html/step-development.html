
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="bn, da, de, en, es, fi, fr, he, id, it, ja, ko, nl, ru, sv, uk_UA, vi, zh_CN, zh_TW">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>üëü &#34;Step&#34; Development &#8212; AWS EC2 to Cloudflare Lambda Function https://github.com/infamousjoeg/aws-ec2-cloudflare-lambda/releases/tag/v1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="üåé Where Is It?" href="where-is-it.html" />
    <link rel="prev" title="Decomposition" href="decomposition.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="step-development">
<h1>üëü &quot;Step&quot; Development<a class="headerlink" href="#step-development" title="Permalink to this headline">¬∂</a></h1>
<p>I made a name for this development method because I don't really know what it's called.  However, it's a process to
development I found to be profoundly effective in a majority of my situations.  Those being where I'm a solo developer,
tester, and releaser all wrapped into one.</p>
<p>The idea behind Step Development is rather easy -- take your decomposed &quot;easily repeatable process&quot; and script it one
bullet point at a time.  Testing it one bullet point at a time.  While also, essentially, releasing it one bullet point at
a time.</p>
<p><strong>‚úÖ Step #1: Get the EC2 Instance's Public IPv4 Address</strong></p>
<p>The first bullet point in my decomposition is to grab the running EC2 instance's public IPv4 address once it is assigned
fresh off a new run state.  I created and tested the function released in
[pkg/func.py](<a class="reference external" href="https://github.com/infamousjoeg/aws-ec2-cloudflare-lambda/blob/master/pkg/func.py#L8">https://github.com/infamousjoeg/aws-ec2-cloudflare-lambda/blob/master/pkg/func.py#L8</a>) in my Terminal within
MacOS.</p>
<p><strong>‚úÖ Step #2: Authenticate to Cloudflare</strong></p>
<p>The second bullet point in my decomposition is to browse to Cloudflare, while my third is to login to Cloudflare.  Since
this is automation, we'll kill two birds with one stone over the REST API.  Better yet, after investigating the
[Cloudflare REST API Documentation](<a class="reference external" href="https://api.cloudflare.com/">https://api.cloudflare.com/</a>), it looks like we can authenticate _while_ also updating
the A record.</p>
<p>SCORE!  Nothing to do this step!</p>
<p><strong>‚úÖ Step #3: Update A Record in Cloudflare DNS via REST API</strong></p>
<p>Finally, the meat ü•© and potatoes ü•î of the function!</p>
<p>I created [cloudflare.py](<a class="reference external" href="https://github.com/infamousjoeg/aws-ec2-cloudflare-lambda/blob/master/cloudflare.py">https://github.com/infamousjoeg/aws-ec2-cloudflare-lambda/blob/master/cloudflare.py</a>) as a means
to creating and testing this function released in
[pkg/func.py](<a class="reference external" href="https://github.com/infamousjoeg/aws-ec2-cloudflare-lambda/blob/master/pkg/func.py#L8">https://github.com/infamousjoeg/aws-ec2-cloudflare-lambda/blob/master/pkg/func.py#L8</a>).  I decided to keep it
because it's a great example of how to interact with Cloudflare's REST API using Python in a raw manner.</p>
<p>Back to the function, though.  It authenticates with the provided Cloudflare e-mail address and API key.  After
confirmation of successful authentication, it then updates the A record associated with the A record name provided via DNS
ID in the domain managed in Cloudflare associated with the provided Zone ID.</p>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">AWS EC2 to Cloudflare Lambda Function</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="use-case-explanation.html">üì¢ Use Case Explanation</a></li>
<li class="toctree-l1"><a class="reference internal" href="my-engineered-solution.html">ü§ñ My Engineered Solution</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-i-did-it.html">‚ÅâÔ∏è How I Did It</a></li>
<li class="toctree-l1"><a class="reference internal" href="decomposition.html">Decomposition</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">üëü &quot;Step&quot; Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="where-is-it.html">üåé Where Is It?</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="decomposition.html" title="previous chapter">Decomposition</a></li>
      <li>Next: <a href="where-is-it.html" title="next chapter">üåé Where Is It?</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Joe Garcia, CISSP.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/step-development.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>